{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext({});\nfunction AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState({\n      nome: 'matheus'\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loadingAuth = _useState4[0],\n    setLoadingAuth = _useState4[1];\n  var navigation = useNavigation();\n  function signUp(_x, _x2, _x3) {\n    return _signUp.apply(this, arguments);\n  }\n  function _signUp() {\n    _signUp = _asyncToGenerator(function* (email, password, name) {\n      setLoadingAuth(true);\n      try {\n        var response = yield api.post('/user', {\n          name: name,\n          password: password,\n          email: email\n        });\n        setLoadingAuth(false);\n        navigation.goBack();\n      } catch (err) {\n        console.log('erro ao cadastrar', err);\n        setLoadingAuth(false);\n      }\n    });\n    return _signUp.apply(this, arguments);\n  }\n  function singOut() {\n    return _singOut.apply(this, arguments);\n  }\n  function _singOut() {\n    _singOut = _asyncToGenerator(function* () {\n      yield AsyncStorage.clear().then(function () {\n        setUser(null);\n      });\n    });\n    return _singOut.apply(this, arguments);\n  }\n  return _jsx(AuthContext.Provider, {\n    value: {\n      signed: !!user,\n      user: user,\n      signUp: signUp,\n      singOut: singOut,\n      loadingAuth: loadingAuth\n    },\n    children: children\n  });\n}\nexport default AuthProvider;","map":{"version":3,"names":["React","createContext","useState","useNavigation","jsx","_jsx","AuthContext","AuthProvider","_ref","children","_useState","nome","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loadingAuth","setLoadingAuth","navigation","signUp","_x","_x2","_x3","_signUp","apply","arguments","_asyncToGenerator","email","password","name","response","api","post","goBack","err","console","log","singOut","_singOut","AsyncStorage","clear","then","Provider","value","signed"],"sources":["C:/curso/Plantas/meuApp/src/contexts/auth.js"],"sourcesContent":["import React, { createContext, useState } from \"react\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nexport const AuthContext = createContext({});\r\n\r\nfunction AuthProvider({ children }) {\r\n    const [user, setUser] = useState({nome: 'matheus'});\r\n    const [loadingAuth, setLoadingAuth] = useState(false);\r\n\r\n    const navigation = useNavigation();\r\n\r\n    async function signUp(email, password, name) {\r\n        setLoadingAuth(true);\r\n        try {\r\n            const response = await api.post('/user', {\r\n                name: name, password: password, email: email,\r\n            })\r\n            setLoadingAuth(false);\r\n            navigation.goBack();\r\n        } catch (err) {\r\n            console.log('erro ao cadastrar', err)\r\n            setLoadingAuth(false);\r\n        }\r\n    }\r\n\r\n    async function singOut() {\r\n        await AsyncStorage.clear()\r\n            .then(() => { setUser(null); })\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ signed: !!user, user, signUp, singOut, loadingAuth }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AACtD,SAASC,aAAa,QAAQ,0BAA0B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEzD,OAAO,IAAMC,WAAW,GAAGL,aAAa,CAAC,CAAC,CAAC,CAAC;AAE5C,SAASM,YAAYA,CAAAC,IAAA,EAAe;EAAA,IAAZC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAC5B,IAAAC,SAAA,GAAwBR,QAAQ,CAAC;MAACS,IAAI,EAAE;IAAS,CAAC,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAA5CI,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EACpB,IAAAI,UAAA,GAAsCd,QAAQ,CAAC,KAAK,CAAC;IAAAe,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA9CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAElC,IAAMG,UAAU,GAAGjB,aAAa,CAAC,CAAC;EAAC,SAEpBkB,MAAMA,CAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAC,OAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,QAAA;IAAAA,OAAA,GAAAG,iBAAA,CAArB,WAAsBC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAE;MACzCZ,cAAc,CAAC,IAAI,CAAC;MACpB,IAAI;QACA,IAAMa,QAAQ,SAASC,GAAG,CAACC,IAAI,CAAC,OAAO,EAAE;UACrCH,IAAI,EAAEA,IAAI;UAAED,QAAQ,EAAEA,QAAQ;UAAED,KAAK,EAAEA;QAC3C,CAAC,CAAC;QACFV,cAAc,CAAC,KAAK,CAAC;QACrBC,UAAU,CAACe,MAAM,CAAC,CAAC;MACvB,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,GAAG,CAAC;QACrCjB,cAAc,CAAC,KAAK,CAAC;MACzB;IACJ,CAAC;IAAA,OAAAM,OAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAEcY,OAAOA,CAAA;IAAA,OAAAC,QAAA,CAAAd,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAa,SAAA;IAAAA,QAAA,GAAAZ,iBAAA,CAAtB,aAAyB;MACrB,MAAMa,YAAY,CAACC,KAAK,CAAC,CAAC,CACrBC,IAAI,CAAC,YAAM;QAAE5B,OAAO,CAAC,IAAI,CAAC;MAAE,CAAC,CAAC;IACvC,CAAC;IAAA,OAAAyB,QAAA,CAAAd,KAAA,OAAAC,SAAA;EAAA;EAED,OACItB,IAAA,CAACC,WAAW,CAACsC,QAAQ;IAACC,KAAK,EAAE;MAAEC,MAAM,EAAE,CAAC,CAAChC,IAAI;MAAEA,IAAI,EAAJA,IAAI;MAAEO,MAAM,EAANA,MAAM;MAAEkB,OAAO,EAAPA,OAAO;MAAErB,WAAW,EAAXA;IAAY,CAAE;IAAAT,QAAA,EAC/EA;EAAQ,CACS,CAAC;AAE/B;AAEA,eAAeF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}